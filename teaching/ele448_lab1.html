<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="index,all" />

<title>Welcome to Yu Bi's Homepage</title>

<style type="text/css">
@font-face { font-family:gfont; src:url('fonts/gfont-regular.ttf'); }
@font-face { font-family:gfont; src:url('fonts/gfont-italic.ttf'); font-style:italic; }
@font-face { font-family:gfont; src:url('fonts/gfont-bold.ttf'); font-weight:bold; }
@font-face { font-family:gfont; src:url('fonts/gfont-bold-italic.ttf'); font-weight:bold; font-style:italic; }
</style>
<link href="../Attachments/main.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">

</head>

<body>

<div class="header">
<nav class="site-navigation">
<ul class="site-menu">
        <li><a href="../index.html">HOME</a></li>
        <li><a href="../research.html">RESEARCH</a></li>
        <li><a href="../publication.html">PUBLICATIONS</a></li>
        <li><a href="../students.html">STUDENTS</a></li>
        <li><a href="../teaching.html">TEACHING</a></li>
</ul>
</div>

<div class="content">
<div class="container">


                <p><strong style="font-size: 20px;">ELE448: Digital Integrated Circuit Design I Cadence Tutorial</strong></p>
                <hr />      
                <p><strong style="font-size: 20px;">Create Circuit Schematic</strong></p>
                <p><strong style="font-size: 18px;">Create New Library:</strong></p>        
        
                All designs related to a project/homework are stored in a library. To create a new library from the Library Manager, click on File > New > Library. In the New Library window, type lab-1 as the name of the library and click OK: 
<br>
<br>        
                <center><img src="../Attachments/teaching/ELE447/Lab/0.jpg" alt="System diagram" style="width: 800px; height: 500px" itemprop="image" ></center>
<br>
                <center><img src="../Attachments/teaching/ELE447/Lab/1.jpg" alt="System diagram" style="width: 600px; height: 400px" itemprop="image"></center>
<br>        
                In the Technology Library, select attach to existing technology library, and choose TSMC 0.2u. Click OK
<br>
<br>    
                <center><img src="../Attachments/teaching/ELE447/Lab/2.png" alt="System diagram" style="width: 400px; height: 210px" itemprop="image"></center>
<br>        
                Now the library lab-1 is created. 
        
<br>

                <p><strong style="font-size: 18px;">Creating new schematic design:</strong></p>
                In the Library Manager window, click on File > New > Cell View, and enter the following to create a schematic called Inverter and click OK
<br>        
<br>        
                <center><img src="../Attachments/teaching/ELE447/Lab/3.jpg" alt="System diagram" style="width: 312px; height: 340px" itemprop="image"></center>
<br>
      
                If the Upgrade License window appears, click Yes. The Virtuoso Schematic L tool appears, as shown below:
<br>        
<br>        
                <center><img src="../Attachments/teaching/ELE447/Lab/4.jpg" alt="System diagram" style="width: 700px; height: 600px" itemprop="image"></center>
<br>        
                
                At this point, you have created a library called Lab1 and a cell inside it, called inverter. Now the design process can be started. For a full custom design, the process begins by creating a schematic. Then we simulate this design to verify the correctness of its functionality. Only after this is done, is the layout of the design performed. 

<br>
<br>
                Now, we put down the design of the inverter in the Schematic Editor window. The Inverter consists of a NMOS and PMOS transistor with appropriately connected gate, drain and source terminals. The transistors and the input signal sources are instantiated and connected in the schematic editor. To instantiate a NMOS transistor:
        
<br>        
                <p><strong style="font-size: 18px;">Create Instance:</strong></p>
                
                In the schematic window, click on Create->Instance (or type i). The "Add instance" dialogue box appears together with the "component Browser" dialog box. (In case the "Component Browser" does not appear, click on browse in the "Add Instance" dialog box to start it.)
<br>
                <center><img src="../Attachments/teaching/ELE447/Lab/5.jpg" alt="System diagram" style="width: 300px; height: 500px" itemprop="image"></center>

<br>    
                In "Component Browser" window, Click on Library and choose NCSU_Analog_Parts. Click on N_Transistors and choose nmos4 as your NMOS device. To place the instance, activate the schematic window and click the left mouse button to put the instance at the place desired.
<br>
<br>        
                Note in Cadence schematic composers and layout editors, a command will not terminate unless the user cancels it or the user starts a new command. In this case, you can see another instance is ready to be placed right after you placed the first instance. To terminate the current operation (which is "add instance" in this case), press ESC key on the keyboard. In fact, you can always cancel the current operation in schematic or layout editors by pressing ESC key.
<br>        
        
                <p><strong style="font-size: 18px;">Edit Object Properties: </strong></p>
<br>
                
                Now, we set the length and width of the NMOS transistor that is instantiated. To do this, select the object (NMOS transistor) by clicking on it and then go to "Edit > properties > Object..." (or by typing q). An object properties editing form will pop up. In this form, make the NMOS width 300n and length 200n, and click ok.
<br>        
                <center><img src="../Attachments/teaching/ELE447/Lab/6.jpg" alt="System diagram" style="width: 400px; height: 700px" itemprop="image"></center>
<br>
                Repeat the Create Instance procedure for a PMOS transistor and set its width equal to 300n and length to 200n. The schematic should look similar to this:
<br>            
                <center><img src="../Attachments/teaching/ELE447/Lab/7.jpg" alt="System diagram" style="width: 900px; height: 600px" itemprop="image"></center>
<br>
                <p><strong style="font-size: 18px;">Wiring up: </strong></p>
<br>
                To connect the PMOS and NMOS devices or any electrical device, click on Create->Wire(narrow) in the schematic window (or type w). Click at the terminal where the wire starts and click at the terminal where the wire ends, a wire will be automatically added. If you are not satisfied with the automatic wiring, you can remove the wire and reroute it manually. This time, instead of clicking at the terminal where the wire ends directly, you can click the left mouse button whenever you want to change the wire direction.
<br>
                If you want to stop the wire somewhere instead of connecting it to a terminal, double click your left mouse button and a dangling wire is created. In general dangling wire should be avoided, however, in some cases (like you want to label this wire or add a pin to this wire), a dangling wire makes sense.
<br>
                In this case, connect the drain terminals of PMOS and NMOS, and the gate terminals of the PMOS and NMOS. Also, be sure to connect the bulk terminals of each transistor to its source. After all this wiring, the schematic should look similar to this :        
<br>
                <center><img src="../Attachments/teaching/ELE447/Lab/8.jpg" alt="System diagram" style="width: 900px; height: 600px" itemprop="image"></center>
<br>
                <p><strong style="font-size: 18px;">Creating Supply Voltage Net (Vdd/gnd) and Input/Output pins: </strong></p>
<br>        
                Click on "Create->Pin..." (or type p) in the schematic window, the following dialogue box would appear:
<br>                
                <center><img src="../Attachments/teaching/ELE447/Lab/9.jpg" alt="System diagram" style="width: 400px; height: 300px" itemprop="image"></center>
<br>
                Type A as the pin name. Note that the direction is listed as input. For an output pin, you would need to change this to output. Now press Enter. Then in the schematic window, place the pin terminal on the wire that connects the gate terminals of the transistors. Similarly, create an Y pin and set its direction as output. The Y pin is placed on the wire connecting the drain terminals of the transistors. For VDD and GND, create VDD and GND pin and set its direction as inputOutput. After this, the schematic should look similar to this:
<br>        
                <center><img src="../Attachments/teaching/ELE447/Lab/10.jpg" alt="System diagram" style="width: 900px; height: 600px" itemprop="image"></center>     
<br>
                After the design has been completed, click on "File->Check and Save" to check and save your designs, or use hotkey F8.
                Check the CIW window to see if there are any errors or warnings in your design. If there are, then fix them and repeat Check & Save.
        
<br>
<br>        
<br>
            
                <p><strong style="font-size: 20px;">Create Circuit Symbol</strong></p>
                Symbols are useful when the schematic design is done hierarchically. At a higher of level of abstraction, we would like to use a symbol to replace the details of a cell. Because of this, a symbol of a cell design should define all the input pins and output pins of that cell explicitly.
<br>
                Once you have completed the schematic design, you can create its symbol right from the schematic cell.
<br>
                Click on Create > Cellview > From Cellview. Click OK on the Cellview From Cellview window and the next window.
<br>
                <center><img src="../Attachments/teaching/ELE447/Lab/11.jpg" alt="System diagram" style="width: 500px; height: 300px" itemprop="image"></center>
<br>
                
                This will pop-up another window that contains a default symbol picture, which is shown below. It has a red box that encloses the green colored inverter symbol. This red box defines the actual size a symbol will occupy, if you were to use this inverter symbol in another design. You can change the size of this box by clicking and dragging. It is good custom to exactly fit the symbol within the red box. The red square dots indicate the pin connections. [@InstanceName ] and [@PartName] are display variables, which you may delete or keep. The following picture shows the symbol.
<br>        
                <center><img src="../Attachments/teaching/ELE447/Lab/12.jpg" alt="System diagram" style="width: 700px; height: 500px" itemprop="image"></center>
<br>
        
                If you don't like this rectangular symbol that is automatically created by the tool, you can create a symbol of you own by dragging the lines and input/output pins to their desired locations. An example is shown below, in which an inverter symbol is created which looks similar to the usual inverter gate symbol:
<br>
                <center><img src="../Attachments/teaching/ELE447/Lab/13.jpg" alt="System diagram" style="width: 700px; height: 500px" itemprop="image"></center>
        
        
        
        
        
</div>
</div>
</body>
</html>
